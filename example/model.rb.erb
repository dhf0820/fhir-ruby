class Fhir::<%= node.class_name %> < Fhir::Base
<% node.references.each do |ref| %>
  belongs_to :<%= ref.name.underscore %>,
    class_name: '<%= ref.class_name %>'
<% end -%>

<% node.associations.each do |ref| %>
  has_many :<%= ref.column_name(node).pluralize %>,
    class_name: '<%= ref.class_name %>'

  accepts_nested_attributes_for :<%= ref.column_name(node).pluralize %>
<% end -%>

<% node.model_attributes.each do |column| -%>
  # @attribute: <%= column.column_name(node) %> <%= column.column_type %>
<% end -%>

include Fhir::Composite
<%= node
.embeded_children
.template(path: "#{::FHIR_PATH}/composing_model.rb.erb")
.render(1) %>
end
